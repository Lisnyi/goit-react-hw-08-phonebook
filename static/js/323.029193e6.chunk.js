"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[323],{323:function(n,e,r){r.r(e),r.d(e,{default:function(){return K}});var t,a,i,o,c,d,l,s,u=r(8821),m=r(885),x=r(5984),h=r(5705),p=r(5264),f=r(7103),b=r(4807),g=r(6305),j=r(184),Z=function(n){var e=n.contacts,r=(0,u.Tn)(),t=(0,m.Z)(r,2),a=t[0],i=t[1].isLoading;var o=f.Ry().shape({name:f.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required(),number:f.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),c=(0,x.x0)(),d=(0,x.x0)();return(0,j.jsx)(h.J9,{initialValues:{name:"",number:""},validationSchema:o,onSubmit:function(n,r){var t=n.name,i=n.number,o=r.resetForm,c={name:t,number:i};if(function(n,e){var r=n.toLocaleLowerCase();return e.find((function(n){return n.name.toLocaleLowerCase()===r}))}(t,e))return p.Notify.warning("".concat(t," is already in contacts"));a(c).unwrap().then((function(n){var e=n.name;return p.Notify.success("".concat(e," successfully added"))})).catch((function(n){var e=n.error;return p.Notify.failure(e)})),o()},validateOnBlur:!1,children:function(n){var e=n.errors,r=n.touched;return(0,j.jsxs)(g.TZ,{autoComplete:"off",children:[(0,j.jsx)(g.__,{htmlFor:c,children:"Name"}),(0,j.jsx)(g.II,{type:"text",name:"name",id:c,placeholder:"Name",error:e.name?1:0,touched:r.name?1:0}),(0,j.jsx)(g.jj,{name:"name",component:"span"}),(0,j.jsx)(g.__,{htmlFor:d,children:"Number"}),(0,j.jsx)(g.II,{type:"tel",name:"number",id:d,placeholder:"+380-546",error:e.number?1:0,touched:r.number?1:0}),(0,j.jsx)(g.jj,{name:"number",component:"span"}),(0,j.jsx)(b.Z,{variant:"contained",type:"submit",disabled:i,children:i?"Adding...":"Add new contact"})]})}})},v=r(2982),w=r(5048),y=function(n){return n.filter},C=r(5653),P=r(1243),N=r(168),L=r(7691),_=L.ZP.ul(t||(t=(0,N.Z)(["\n    margin: 0;\n    padding: 0;\n    list-style: none;\n"]))),k=L.ZP.li(a||(a=(0,N.Z)(["\n    margin-bottom: 16px;\n    display: flex;\n    align-items: center;\n\n    &:last-child {\n        margin-bottom: 0;\n    }\n\n    button {\n        margin-left: 10px;\n        height: 30px;\n    }\n"]))),A=L.ZP.div(i||(i=(0,N.Z)(["\n    min-width: 413px;\n"]))),F=L.ZP.p(o||(o=(0,N.Z)(["\n    margin: 0;\n    padding: 3px;\n    background-color: #e3e2e1;\n"]))),I=L.ZP.p(c||(c=(0,N.Z)(["\n    margin: 0;\n    padding: 3px;\n"]))),z=function(n){var e=n.id,r=n.number,t=n.name,a=(0,u.MG)(),i=(0,m.Z)(a,2),o=i[0],c=i[1].isLoading;return(0,j.jsxs)(k,{children:[(0,j.jsxs)(A,{children:[(0,j.jsxs)(F,{children:[(0,j.jsx)("b",{children:"Name"}),": ",t]}),(0,j.jsxs)(I,{children:[(0,j.jsx)("b",{children:"Number"}),": ",r]})]}),(0,j.jsx)(P.Z,{size:"small",variant:"contained",onClick:function(){return function(n,e){o(n).unwrap().then((function(){return p.Notify.success("".concat(e," successfully deleted"))})).catch((function(n){var e=n.error;return p.Notify.failure(e)}))}(e,t)},disabled:c,loading:c,children:c?"Deleting":"Delete"})]},e)},B=function(n){var e,r=n.contacts,t=(0,w.v9)(y),a=function(n){if(!t)return n;var e=t.toLocaleLowerCase();return n.filter((function(n){return n.name.toLocaleLowerCase().includes(e)}))}((e=r,(0,v.Z)(e).sort((function(n,e){return n.name.localeCompare(e.name)}))));return(0,j.jsx)(_,{children:a.map((function(n){var e=n.id,r=n.name,t=n.number;return(0,j.jsx)(z,{id:e,name:r,number:t},e)}))})},T=L.ZP.div(d||(d=(0,N.Z)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 16px;\n"]))),S=L.ZP.label(l||(l=(0,N.Z)(["\n    width: fit-content;\n    margin-bottom: 8px;\n"]))),$=L.ZP.input(s||(s=(0,N.Z)(["\n    max-width: 400px;\n    padding: 3px;\n    padding-left: 10px;\n    border: none;\n    outline: 1px solid blue;\n    border-radius: 3px;\n\n\n    &:focus {\n        outline: 1px solid orange;\n    }\n"]))),q=function(){var n=(0,w.v9)(y),e=(0,w.I0)(),r=(0,x.x0)();return(0,j.jsxs)(T,{children:[(0,j.jsx)(S,{htmlFor:r,children:"Find contacts by name:"}),(0,j.jsx)($,{autoComplete:"off",type:"text",name:"filter",placeholder:"Filter",value:n,id:r,onChange:function(n){var r=n.currentTarget;e((0,C.T)(r.value))}})]})},D=r(1552),J=r(5243);function K(){var n=(0,u.wY)(),e=n.data,r=n.isLoading;return(0,j.jsxs)(D.or,{children:[(0,j.jsx)(D.$0,{children:(0,j.jsxs)(D.KS,{children:[(0,j.jsx)(D.U3,{children:"Phonebook"}),(0,j.jsx)(Z,{contacts:e})]})}),(0,j.jsx)(D.$0,{children:(0,j.jsxs)(D.KS,{children:[(0,j.jsx)(D.NZ,{children:"Contacts"}),(0,j.jsx)(q,{}),null!==e&&void 0!==e&&e.length?(0,j.jsx)(B,{contacts:e}):null,r&&(0,j.jsx)(J.g4,{height:"50",width:"50",radius:"9",color:"#2714d3",ariaLabel:"three-dots-loading",visible:!0})]})})]})}},6305:function(n,e,r){r.d(e,{II:function(){return m},TZ:function(){return s},__:function(){return u},jj:function(){return x}});var t,a,i,o,c=r(168),d=r(7691),l=r(5705),s=(0,d.ZP)(l.l0)(t||(t=(0,c.Z)(["\n    display: flex;\n    margin: auto;\n    flex-direction: column;\n    width: 100%;\n    max-width: 500px;\n    padding: 10px;\n    border-radius: 10px;\n    background-color: #e3e2e1;\n"]))),u=d.ZP.label(a||(a=(0,c.Z)(["\n    font-weight: bold;\n    margin-bottom: 8px;\n    width: fit-content;\n"]))),m=(0,d.ZP)(l.gN)(i||(i=(0,c.Z)(["\n    margin-bottom: ","px;\n    padding: 3px;\n    padding-left: 10px;\n    width: 100% - 10px;\n    border: none;\n    outline: 1px solid blue;\n    border-radius: 3px;\n\n    &:focus {\n        outline: 1px solid orange;\n    }\n"])),(function(n){return Boolean(n.error)&&Boolean(n.touched)?4:25})),x=(0,d.ZP)(l.Bc)(o||(o=(0,c.Z)(["\n    font-size: 12px;\n    color: red;\n    margin-bottom: 8px;\n"])))}}]);
//# sourceMappingURL=323.029193e6.chunk.js.map